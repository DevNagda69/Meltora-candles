import{r as s,z as e,j as t,E as a}from"./vendor-react-core-Bq0KXPxd.js";import{q as r,m as d,p as i,n}from"./vendor-firebase-DEvV9JSG.js";import{d as l}from"./index-DJL7qJUu.js";import{A as c}from"./AdminLayout-BFGvbT9r.js";import"./vendor-misc-DR8gDw69.js";const o=()=>{const[o,h]=s.useState([]),[m,x]=s.useState(!0);s.useEffect(()=>{j()},[]);const j=async()=>{try{const s=r(d(l,"orders"),i("createdAt","desc")),e=(await n(s)).docs.map(s=>({id:s.id,...s.data()}));h(e)}catch(s){e.error("Failed to load orders")}finally{x(!1)}};return t.jsx(c,{title:"Orders",children:m?t.jsx("div",{className:"text-center py-8",children:"Loading orders..."}):t.jsx("div",{className:"admin-card",children:0===o.length?t.jsx("div",{className:"empty-state text-center py-12",children:t.jsx("p",{className:"text-gray-500",children:"No orders received yet."})}):t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"admin-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Order ID"}),t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Customer"}),t.jsx("th",{children:"Items"}),t.jsx("th",{children:"Total"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:o.map(s=>{var e,r,d,i,n;return t.jsxs("tr",{children:[t.jsxs("td",{className:"font-mono text-sm",children:[s.id.slice(0,8),"..."]}),t.jsx("td",{children:(n=s.createdAt,n?new Date(1e3*n.seconds).toLocaleDateString():"")}),t.jsxs("td",{children:[t.jsxs("div",{className:"text-sm font-medium",children:[null==(e=s.shipping)?void 0:e.firstName," ",null==(r=s.shipping)?void 0:r.lastName]}),t.jsx("div",{className:"text-xs text-gray-500",children:null==(d=s.shipping)?void 0:d.email})]}),t.jsxs("td",{children:[(null==(i=s.items)?void 0:i.length)||0," items"]}),t.jsxs("td",{className:"font-bold",children:["â‚¹",s.total]}),t.jsx("td",{children:t.jsx("span",{className:"status-badge "+("Delivered"===s.status?"success":"Cancelled"===s.status?"error":"warning"),children:s.status||"Pending"})}),t.jsx("td",{children:t.jsx("button",{className:"icon-btn edit",title:"View Details",children:t.jsx(a,{})})})]},s.id)})})]})})})})};export{o as default};
