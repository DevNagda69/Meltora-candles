import{r as s,z as e,j as t,L as r,J as a,m as d,o as c}from"./vendor-react-core-Bq0KXPxd.js";import{A as i}from"./AdminLayout-ela2jhCS.js";import{B as n}from"./index-Bc6h3JDl.js";import{a as o,d as l}from"./productService-CoEyuARZ.js";import"./vendor-misc-DR8gDw69.js";import"./vendor-firebase-DEvV9JSG.js";import"./dataCache-BlbMQbVs.js";const m=()=>{const[m,h]=s.useState([]),[j,x]=s.useState(!0);s.useEffect(()=>{u()},[]);const u=async()=>{try{const s=await o();h(s)}catch(s){e.error("Failed to load products")}finally{x(!1)}};return t.jsx(i,{title:"Products",actions:t.jsx(r,{to:"/admin/products/add",children:t.jsxs(n,{variant:"primary",size:"small",children:[t.jsx(c,{})," Add Product"]})}),children:j?t.jsx("div",{className:"text-center py-8",children:"Loading products..."}):t.jsx("div",{className:"admin-card",children:0===m.length?t.jsxs("div",{className:"empty-state text-center py-12",children:[t.jsx("p",{className:"text-gray-500 mb-4",children:"No products found."}),t.jsx(r,{to:"/admin/products/add",children:t.jsx(n,{variant:"outline",children:"Create your first product"})})]}):t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"admin-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Image"}),t.jsx("th",{children:"Name"}),t.jsx("th",{children:"Category"}),t.jsx("th",{children:"Price"}),t.jsx("th",{children:"Stock"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:m.map(s=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("div",{className:"table-img",children:t.jsx("img",{src:s.image||"https://via.placeholder.com/50",alt:s.name})})}),t.jsx("td",{className:"font-medium",children:s.name}),t.jsx("td",{children:s.category}),t.jsxs("td",{children:["â‚¹",s.price]}),t.jsx("td",{children:t.jsx("span",{className:"status-badge "+(s.stock>0?"success":"error"),children:s.stock})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx(r,{to:`/admin/products/edit/${s.id}`,className:"icon-btn edit",children:t.jsx(a,{})}),t.jsx("button",{className:"icon-btn delete",onClick:()=>(async s=>{if(window.confirm("Are you sure you want to delete this product?"))try{await l(s),e.success("Product deleted"),u()}catch(t){e.error("Failed to delete product")}})(s.id),children:t.jsx(d,{})})]})})]},s.id))})]})})})})};export{m as default};
