import{r as s,j as e,G as a,l as t,H as r,I as l,L as d}from"./vendor-react-core-Bq0KXPxd.js";import{n as i,m as c,q as o,p as n,r as m}from"./vendor-firebase-DEvV9JSG.js";import{d as h}from"./index-DJL7qJUu.js";import{A as j}from"./AdminLayout-BFGvbT9r.js";import"./vendor-misc-DR8gDw69.js";const x=()=>{const[x,u]=s.useState({totalProducts:0,totalOrders:0,totalRevenue:0,galleryImages:0}),[v,p]=s.useState([]),[N,g]=s.useState(!0);s.useEffect(()=>{y()},[]);const y=async()=>{try{const[s,e,a,t]=await Promise.all([i(c(h,"products")),i(c(h,"orders")),i(c(h,"gallery")),i(o(c(h,"orders"),n("createdAt","desc"),m(5)))]);let r=0;e.docs.forEach(s=>{const e=s.data();r+=e.total||0});const l=t.docs.map(s=>({id:s.id,...s.data()}));u({totalProducts:s.size,totalOrders:e.size,totalRevenue:r,galleryImages:a.size}),p(l)}catch(s){}finally{g(!1)}},f=[{title:"Total Products",value:x.totalProducts,icon:e.jsx(a,{}),color:"blue",link:"/admin/products"},{title:"Total Orders",value:x.totalOrders,icon:e.jsx(t,{}),color:"green",link:"/admin/orders"},{title:"Total Revenue",value:`₹${x.totalRevenue.toLocaleString()}`,icon:e.jsx(r,{}),color:"purple",link:"/admin/orders"},{title:"Gallery Images",value:x.galleryImages,icon:e.jsx(l,{}),color:"orange",link:"/admin/gallery"}];return e.jsx(j,{title:"Dashboard",children:N?e.jsx("div",{className:"text-center py-8",children:"Loading dashboard..."}):e.jsxs("div",{className:"dashboard-container",children:[e.jsx("div",{className:"stats-grid",children:f.map((s,a)=>e.jsxs(d,{to:s.link,className:`stat-card stat-${s.color}`,children:[e.jsx("div",{className:"stat-icon",children:s.icon}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{className:"stat-title",children:s.title}),e.jsx("p",{className:"stat-value",children:s.value})]})]},a))}),e.jsxs("div",{className:"dashboard-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Recent Orders"}),e.jsx(d,{to:"/admin/orders",className:"view-all-link",children:"View All"})]}),0===v.length?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No orders yet"})}):e.jsx("div",{className:"orders-list",children:v.map(s=>{var a,t,r,l;return e.jsxs("div",{className:"order-item",children:[e.jsxs("div",{className:"order-info",children:[e.jsxs("div",{className:"order-id",children:["#",s.id.slice(0,8)]}),e.jsxs("div",{className:"order-customer",children:[null==(a=s.shipping)?void 0:a.firstName," ",null==(t=s.shipping)?void 0:t.lastName]})]}),e.jsxs("div",{className:"order-details",children:[e.jsx("div",{className:"order-date",children:(l=s.createdAt,l?new Date(1e3*l.seconds).toLocaleDateString():"")}),e.jsxs("div",{className:"order-total",children:["₹",s.total]}),e.jsx("span",{className:`order-status status-${(null==(r=s.status)?void 0:r.toLowerCase())||"pending"}`,children:s.status||"Pending"})]})]},s.id)})})]}),e.jsxs("div",{className:"dashboard-section",children:[e.jsx("h2",{children:"Quick Actions"}),e.jsxs("div",{className:"quick-actions",children:[e.jsxs(d,{to:"/admin/products/add",className:"action-btn",children:[e.jsx(a,{}),e.jsx("span",{children:"Add Product"})]}),e.jsxs(d,{to:"/admin/gallery",className:"action-btn",children:[e.jsx(l,{}),e.jsx("span",{children:"Upload Gallery Image"})]}),e.jsxs(d,{to:"/admin/orders",className:"action-btn",children:[e.jsx(t,{}),e.jsx("span",{children:"View Orders"})]})]})]})]})})};export{x as default};
