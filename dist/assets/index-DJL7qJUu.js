const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-D41YHUwZ.js","assets/vendor-react-core-Bq0KXPxd.js","assets/vendor-misc-DR8gDw69.js","assets/ProductCard-DSCE7m4s.js","assets/ProductCard-BP0nfUvo.css","assets/productService-Jp0TKj0F.js","assets/vendor-firebase-DEvV9JSG.js","assets/dataCache-BlbMQbVs.js","assets/Home-Bho2zZfg.css","assets/Shop-t6BDiqf3.js","assets/products-BAOAWJAT.js","assets/Shop-nrrG63Pn.css","assets/ProductDetails-CbO65PuF.js","assets/ProductDetails-Dc0-WYsY.css","assets/Checkout-18RnnKt7.js","assets/Checkout-CQG5aLAF.css","assets/About-C7_LOezX.js","assets/Contact-Cxy3MDEH.js","assets/AdminLogin-Csgb7iAa.js","assets/AdminLogin-DfW6_abL.css","assets/AdminDashboard-DHHa-UT1.js","assets/AdminLayout-BFGvbT9r.js","assets/AdminLayout-C_a09Pzs.css","assets/AdminDashboard-Bq6OnWOF.css","assets/AdminSetup-Ba-_9bYE.js","assets/Products-DMUhUbN_.js","assets/Products-JrqzLl4V.css","assets/ManageProduct-CRmgWSWR.js","assets/ManageProduct-C5zutsxS.css","assets/Orders-Hjlqjuh7.js","assets/Gallery-BNrNhv4B.js","assets/galleryService--9XFQKpZ.js","assets/Gallery-BY7K8K8i.css"])))=>i.map(i=>d[i]);
import{r as e,j as s,z as a,u as t,L as r,F as n,a as i,b as l,c,d as o,e as d,f as m,g as h,h as u,i as x,k as j,l as p,m as f,n as g,o as v,N as y,B as b,p as N,R as _,q as k,s as E,t as w}from"./vendor-react-core-Bq0KXPxd.js";import{i as C,g as I,a as S,b as A,o as L,c as P,d as q,s as O,G as V,e as T,f as D,h as R,j as z,u as $}from"./vendor-firebase-DEvV9JSG.js";import"./vendor-misc-DR8gDw69.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const F={},M=function(e,s,a){let t=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));t=Promise.allSettled(s.map(e=>{if((e=function(e){return"/"+e}(e))in F)return;F[e]=!0;const s=e.endsWith(".css"),t=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const r=document.createElement("link");return r.rel=s?"stylesheet":"modulepreload",s||(r.as="script"),r.crossOrigin="",r.href=e,a&&r.setAttribute("nonce",a),document.head.appendChild(r),s?new Promise((s,a)=>{r.addEventListener("load",s),r.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return t.then(s=>{for(const e of s||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})},U=e.createContext(),B=()=>e.useContext(U),G=({children:t})=>{const[r,n]=e.useState([]),[i,l]=e.useState(!1);e.useEffect(()=>{const e=localStorage.getItem("meltora_cart");if(e)try{n(JSON.parse(e))}catch(s){}},[]),e.useEffect(()=>{localStorage.setItem("meltora_cart",JSON.stringify(r))},[r]);const c={cartItems:r,isCartOpen:i,setIsCartOpen:l,addToCart:(e,s=1,t=null)=>{n(r=>{const n=t?`${t.size}-${t.fragrance}`:"standard",i=`${e.id}-${n}`,l=r.findIndex(e=>e.uniqueId===i);if(l>-1){const t=[...r];return t[l].quantity+=s,a.success(`Updated quantity for ${e.name}`),t}return a.success(`Added ${e.name} to cart`),[...r,{...e,uniqueId:i,quantity:s,selectedVariation:t}]}),l(!0)},removeFromCart:e=>{n(s=>s.filter(s=>s.uniqueId!==e)),a.success("Item removed from cart")},updateQuantity:(e,s)=>{s<1||n(a=>a.map(a=>a.uniqueId===e?{...a,quantity:s}:a))},clearCart:()=>{n([]),localStorage.removeItem("meltora_cart")},getCartTotal:()=>r.reduce((e,s)=>e+(s.selectedVariation?s.selectedVariation.price:s.price)*s.quantity,0)};return s.jsx(U.Provider,{value:c,children:t})},H=()=>{const[a,d]=e.useState(!1),[m,h]=e.useState(!1),{cartItems:u}=B(),x=t(),j=(null==u?void 0:u.reduce((e,s)=>e+s.quantity,0))||0;e.useEffect(()=>{const e=()=>{d(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e.useEffect(()=>{h(!1)},[x]);const p=[{path:"/",label:"Home"},{path:"/shop",label:"Shop"},{path:"/about",label:"About"},{path:"/contact",label:"Contact"}];return s.jsx("header",{className:`header ${a?"header-scrolled":""} ${"/"===x.pathname?"header-home":""}`,children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"header-content",children:[s.jsxs(r,{to:"/",className:"logo",children:[s.jsx("img",{src:"/logo.png",alt:"Meltora Candles",className:"logo-image"}),s.jsx("span",{className:"logo-text",children:"Meltora Candles"})]}),s.jsx("nav",{className:"nav-desktop hidden-mobile",children:p.map(e=>s.jsx(r,{to:e.path,className:"nav-link "+(x.pathname===e.path?"active":""),children:e.label},e.path))}),s.jsxs("div",{className:"header-actions",children:[s.jsx("button",{className:"icon-button","aria-label":"Search",children:s.jsx(n,{})}),s.jsxs(r,{to:"/checkout",className:"icon-button cart-button","aria-label":"Shopping Cart",children:[s.jsx(i,{}),j>0&&s.jsx("span",{className:"cart-badge",children:j})]}),s.jsx("button",{className:"icon-button","aria-label":"User Account",children:s.jsx(l,{})}),s.jsx("button",{className:"icon-button mobile-menu-toggle hidden-desktop",onClick:()=>h(!m),"aria-label":"Toggle Menu",children:m?s.jsx(c,{}):s.jsx(o,{})})]})]}),m&&s.jsx("nav",{className:"nav-mobile hidden-desktop",children:p.map(e=>s.jsx(r,{to:e.path,className:"nav-link-mobile "+(x.pathname===e.path?"active":""),children:e.label},e.path))})]})})},Y=()=>{const e=(new Date).getFullYear();return s.jsx("footer",{className:"footer",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"footer-content",children:[s.jsxs("div",{className:"footer-brand",children:[s.jsx(r,{to:"/",className:"footer-logo",children:"Meltora Candles"}),s.jsx("p",{className:"footer-tagline",children:"Handcrafted luxury scented candles made with love. Bring warmth and elegance to your home."}),s.jsxs("div",{className:"social-links",children:[s.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:s.jsx(d,{})}),s.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:s.jsx(m,{})})]})]}),s.jsxs("div",{className:"footer-links",children:[s.jsx("h3",{children:"Shop"}),s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx(r,{to:"/shop",children:"All Candles"})}),s.jsx("li",{children:s.jsx(r,{to:"/shop?category=scented",children:"Scented Candles"})}),s.jsx("li",{children:s.jsx(r,{to:"/shop?category=decorative",children:"Decorative Candles"})}),s.jsx("li",{children:s.jsx(r,{to:"/shop?category=gift-sets",children:"Gift Sets"})})]})]}),s.jsxs("div",{className:"footer-links",children:[s.jsx("h3",{children:"Help"}),s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx(r,{to:"/about",children:"Our Story"})}),s.jsx("li",{children:s.jsx(r,{to:"/contact",children:"Contact Us"})}),s.jsx("li",{children:s.jsx(r,{to:"/faq",children:"FAQs"})}),s.jsx("li",{children:s.jsx(r,{to:"/shipping",children:"Shipping & Returns"})})]})]}),s.jsxs("div",{className:"footer-contact",children:[s.jsx("h3",{children:"Contact Us"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx(h,{}),s.jsx("a",{href:"mailto:hello@meltoracandles.com",children:"hello@meltoracandles.com"})]}),s.jsxs("li",{children:[s.jsx(u,{}),s.jsx("a",{href:"tel:+919876543210",children:"+91 98765 43210"})]}),s.jsx("li",{children:s.jsxs("p",{children:["123 Candle Lane, Creative City,",s.jsx("br",{}),"Mumbai, Maharashtra 400001"]})})]})]})]}),s.jsxs("div",{className:"footer-bottom",children:[s.jsxs("div",{className:"copyright",children:["© ",e," Meltora Candles. All rights reserved."]}),s.jsxs("div",{className:"legal-links",children:[s.jsx(r,{to:"/privacy",children:"Privacy Policy"}),s.jsx(r,{to:"/terms",children:"Terms & Conditions"})]})]})]})})},J=()=>s.jsxs("div",{className:"global-skeleton-wrapper",children:[s.jsx("div",{className:"skeleton-header-placeholder"}),s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"skeleton-hero-placeholder"}),s.jsx("div",{className:"skeleton-grid",children:[1,2,3,4].map(e=>s.jsxs("div",{className:"skeleton-card-v2",children:[s.jsx("div",{className:"skeleton-img"}),s.jsx("div",{className:"skeleton-line short"}),s.jsx("div",{className:"skeleton-line long"})]},e))})]})]}),Q=C({apiKey:"AIzaSyA_i3iGV5tf-f_JTe1p9tukgjt93DV4v38",authDomain:"meltora-candles.firebaseapp.com",projectId:"meltora-candles",storageBucket:"meltora-candles.firebasestorage.app",messagingSenderId:"306505121198",appId:"1:306505121198:web:3c7713c7cd74e2ce229c3f"}),K=I(Q),W=S(Q),X=A(Q),Z=e.createContext(),ee=()=>e.useContext(Z),se=({children:t})=>{const[r,n]=e.useState(null),[i,l]=e.useState(!0);e.useEffect(()=>L(X,async e=>{if(e)try{const s=await P(q(K,"users",e.uid));s.exists()?n({...e,...s.data()}):n(e)}catch(s){n(e)}else n(null);l(!1)}),[]);const c={currentUser:r,signup:async(e,s,t)=>{try{const a=await z(X,e,s);return await $(a.user,{displayName:t}),await D(q(K,"users",a.user.uid),{name:t,email:e,createdAt:new Date,role:"customer"}),a.user}catch(r){throw a.error(r.message),r}},login:async(e,s)=>{try{return await R(X,e,s)}catch(t){throw a.error("Failed to login. Please check your credentials."),t}},loginWithGoogle:async()=>{try{const e=new V,s=await T(X,e);return(await P(q(K,"users",s.user.uid))).exists()||await D(q(K,"users",s.user.uid),{name:s.user.displayName,email:s.user.email,createdAt:new Date,role:"customer"}),s.user}catch(e){throw a.error("Google sign-in failed."),e}},logout:()=>O(X),loading:i};return s.jsx(Z.Provider,{value:c,children:!i&&t})},ae=()=>s.jsx("a",{href:"https://www.instagram.com/direct/t/17844793224557863/",target:"_blank",rel:"noopener noreferrer",className:"whatsapp-button","aria-label":"Message us on Instagram",children:s.jsx(x,{className:"whatsapp-icon"})}),te=({children:e,variant:a="primary",size:t="medium",loading:r=!1,disabled:n=!1,onClick:i,type:l="button",className:c="",...o})=>{const d=`btn btn-${a} btn-${t} ${r?"btn-loading":""} ${c}`;return s.jsx("button",{type:l,className:d,onClick:i,disabled:n||r,...o,children:r?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"loading"}),s.jsx("span",{children:"Loading..."})]}):e})},re=()=>{const{cartItems:a,isCartOpen:t,setIsCartOpen:r,removeFromCart:n,updateQuantity:i,getCartTotal:l}=B(),o=j(),d=e.useRef(null);e.useEffect(()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&r(!1)};return t&&(document.addEventListener("mousedown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",e),document.body.style.overflow="unset"}},[t,r]);const m=l(),h=999-m;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"cart-overlay "+(t?"open":"")}),s.jsxs("div",{className:"cart-drawer "+(t?"open":""),ref:d,children:[s.jsxs("div",{className:"cart-header",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(p,{className:"text-xl"}),s.jsxs("h3",{children:["Your Cart (",a.reduce((e,s)=>e+s.quantity,0),")"]})]}),s.jsx("button",{className:"close-cart-btn",onClick:()=>r(!1),children:s.jsx(c,{})})]}),s.jsxs("div",{className:"shipping-progress",children:[h>0?s.jsxs("p",{className:"text-sm mb-2",children:["Add ",s.jsxs("strong",{children:["₹",h]})," more for ",s.jsx("span",{className:"text-success",children:"FREE Shipping"})]}):s.jsxs("p",{className:"text-sm mb-2 text-success",children:["You've unlocked ",s.jsx("strong",{children:"FREE Shipping!"})]}),s.jsx("div",{className:"progress-bar-bg",children:s.jsx("div",{className:"progress-bar-fill",style:{width:`${Math.min(m/999*100,100)}%`}})})]}),s.jsx("div",{className:"cart-items-container",children:0===a.length?s.jsxs("div",{className:"empty-cart",children:[s.jsx("div",{className:"empty-cart-icon",children:s.jsx(p,{})}),s.jsx("p",{children:"Your cart is empty"}),s.jsx(te,{variant:"outline",onClick:()=>{r(!1),o("/shop")},children:"Start Shopping"})]}):s.jsx("div",{className:"cart-items-list",children:a.map(e=>{var a;return s.jsxs("div",{className:"cart-item",children:[s.jsx("div",{className:"item-image",children:s.jsx("img",{src:e.image,alt:e.name})}),s.jsxs("div",{className:"item-details",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"item-name",children:e.name}),s.jsxs("div",{className:"item-meta",children:[e.selectedVariation&&s.jsx("span",{children:e.selectedVariation.size}),e.selectedVariation&&e.selectedVariation.fragrance!==e.name&&s.jsxs("span",{children:[" • ",e.selectedVariation.fragrance]})]})]}),s.jsx("button",{className:"remove-item-btn",onClick:()=>n(e.uniqueId),children:s.jsx(f,{})})]}),s.jsxs("div",{className:"flex justify-between items-center mt-3",children:[s.jsxs("div",{className:"item-quantity",children:[s.jsx("button",{onClick:()=>i(e.uniqueId,e.quantity-1),disabled:e.quantity<=1,children:s.jsx(g,{})}),s.jsx("span",{children:e.quantity}),s.jsx("button",{onClick:()=>i(e.uniqueId,e.quantity+1),children:s.jsx(v,{})})]}),s.jsxs("div",{className:"item-price",children:["₹",((null==(a=e.selectedVariation)?void 0:a.price)||e.price)*e.quantity]})]})]})]},e.uniqueId)})})}),a.length>0&&s.jsxs("div",{className:"cart-footer",children:[s.jsxs("div",{className:"cart-total-row",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{className:"total-amount",children:["₹",m]})]}),s.jsx("p",{className:"tax-note",children:"Shipping & taxes calculated at checkout"}),s.jsxs(te,{variant:"primary",className:"w-full",onClick:()=>{r(!1),o("/checkout")},children:["Checkout • ₹",m]})]})]})]})},ne=({children:e})=>{const{currentUser:a,loading:r}=ee(),n=t();return r?s.jsx("div",{className:"p-8 text-center",children:"Loading..."}):a?e:s.jsx(y,{to:"/admin/login",state:{from:n},replace:!0})},ie=e.lazy(()=>M(()=>import("./Home-D41YHUwZ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),le=e.lazy(()=>M(()=>import("./Shop-t6BDiqf3.js"),__vite__mapDeps([9,1,2,3,4,5,6,7,10,11]))),ce=e.lazy(()=>M(()=>import("./ProductDetails-CbO65PuF.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,10,13]))),oe=e.lazy(()=>M(()=>import("./Checkout-18RnnKt7.js"),__vite__mapDeps([14,1,2,6,15]))),de=e.lazy(()=>M(()=>import("./About-C7_LOezX.js"),__vite__mapDeps([16,1,2]))),me=e.lazy(()=>M(()=>import("./Contact-Cxy3MDEH.js"),__vite__mapDeps([17,1,2]))),he=e.lazy(()=>M(()=>import("./AdminLogin-Csgb7iAa.js"),__vite__mapDeps([18,1,2,6,19]))),ue=e.lazy(()=>M(()=>import("./AdminDashboard-DHHa-UT1.js"),__vite__mapDeps([20,1,2,6,21,22,23]))),xe=e.lazy(()=>M(()=>import("./AdminSetup-Ba-_9bYE.js"),__vite__mapDeps([24,1,2,6]))),je=e.lazy(()=>M(()=>import("./Products-DMUhUbN_.js"),__vite__mapDeps([25,1,2,21,22,5,6,7,26]))),pe=e.lazy(()=>M(()=>import("./ManageProduct-CRmgWSWR.js"),__vite__mapDeps([27,1,2,21,22,5,6,7,28]))),fe=e.lazy(()=>M(()=>import("./Orders-Hjlqjuh7.js"),__vite__mapDeps([29,1,2,6,21,22]))),ge=e.lazy(()=>M(()=>import("./Gallery-BNrNhv4B.js"),__vite__mapDeps([30,1,2,31,6,7,21,22,32]))),ve=()=>s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"var(--color-bg-primary)"},children:s.jsx("div",{className:"spinner",style:{width:"50px",height:"50px",border:"4px solid #f3f3f3",borderTop:"4px solid var(--color-primary)",borderRadius:"50%",animation:"spin 1s linear infinite"}})});function ye(){return s.jsx(b,{children:s.jsx(se,{children:s.jsx(G,{children:s.jsxs("div",{className:"app",children:[s.jsx(N,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#3D2817",color:"#fff",fontFamily:"Inter, sans-serif"},success:{iconTheme:{primary:"#4CAF50",secondary:"#fff"}},error:{iconTheme:{primary:"#F44336",secondary:"#fff"}}}}),s.jsx(e.Suspense,{fallback:s.jsx(ve,{}),children:s.jsxs(_,{children:[s.jsx(k,{path:"/admin/setup",element:s.jsx(xe,{})}),s.jsx(k,{path:"/admin/login",element:s.jsx(he,{})}),s.jsx(k,{path:"/admin/dashboard",element:s.jsx(ne,{children:s.jsx(ue,{})})}),s.jsx(k,{path:"/admin/products",element:s.jsx(ne,{children:s.jsx(je,{})})}),s.jsx(k,{path:"/admin/products/add",element:s.jsx(ne,{children:s.jsx(pe,{})})}),s.jsx(k,{path:"/admin/products/edit/:id",element:s.jsx(ne,{children:s.jsx(pe,{})})}),s.jsx(k,{path:"/admin/orders",element:s.jsx(ne,{children:s.jsx(fe,{})})}),s.jsx(k,{path:"/admin/gallery",element:s.jsx(ne,{children:s.jsx(ge,{})})}),s.jsx(k,{path:"/*",element:s.jsxs(s.Fragment,{children:[s.jsx(H,{}),s.jsx("main",{className:"main-content-wrapper",children:s.jsx(e.Suspense,{fallback:s.jsx(J,{}),children:s.jsxs(_,{children:[s.jsx(k,{path:"/",element:s.jsx(ie,{})}),s.jsx(k,{path:"/shop",element:s.jsx(le,{})}),s.jsx(k,{path:"/product/:id",element:s.jsx(ce,{})}),s.jsx(k,{path:"/checkout",element:s.jsx(oe,{})}),s.jsx(k,{path:"/about",element:s.jsx(de,{})}),s.jsx(k,{path:"/contact",element:s.jsx(me,{})})]})})}),s.jsx(Y,{}),s.jsx(ae,{}),s.jsx(re,{})]})})]})})]})})})})}E.createRoot(document.getElementById("root")).render(s.jsx(w.StrictMode,{children:s.jsx(ye,{})}));export{te as B,M as _,ee as a,X as b,K as d,W as s,B as u};
